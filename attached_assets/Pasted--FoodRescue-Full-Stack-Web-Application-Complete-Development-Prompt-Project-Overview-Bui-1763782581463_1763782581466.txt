# FoodRescue Full-Stack Web Application - Complete Development Prompt

## ğŸ¯ Project Overview
Build a **production-ready FoodRescue platform** - a comprehensive web application connecting food donors (restaurants/stores) with NGOs and volunteers to redistribute surplus food and fight hunger. Create a modern, aesthetically stunning, fully functional platform with smooth animations, professional UI/UX, and complete backend integration.

## âš ï¸ CRITICAL REQUIREMENTS

### ğŸ”´ MUST-HAVE STANDARDS:
1. **ALL ROUTES MUST BE PERFECTLY INTEGRATED** - Every frontend route must connect to its corresponding backend API endpoint with proper error handling
2. **ALL STATE CHANGES MUST REFLECT IMMEDIATELY** - Real-time updates across all components when data changes
3. **ALL CRUD OPERATIONS MUST WORK FLAWLESSLY** - Create, Read, Update, Delete operations must be fully functional with proper validation
4. **ALL FORMS MUST HAVE COMPLETE VALIDATION** - Frontend validation + Backend validation with meaningful error messages
5. **ALL USER INTERACTIONS MUST PROVIDE FEEDBACK** - Loading states, success/error messages, confirmation dialogs
6. **NO BROKEN LINKS OR DEAD ENDS** - Every button, link, and action must work correctly
7. **RESPONSIVE ON ALL DEVICES** - Mobile, tablet, and desktop views must work perfectly
8. **REAL-TIME UPDATES MUST WORK** - Socket.io integration for live notifications and status updates
9. **AUTHENTICATION MUST BE SECURE** - JWT-based auth with protected routes and role-based access
10. **ALL FEATURES FROM THE DOCUMENT MUST BE IMPLEMENTED** - No placeholder components, everything functional

### ğŸ¤– AI SERVICE HANDLING:
- **For now, AI matching will use SIMPLE RULE-BASED LOGIC** (no ML model required initially)
- **Urgency calculation:** Based on shelf-life hours (< 2hrs = High, 2-6hrs = Medium, > 6hrs = Low)
- **NGO matching:** Based on proximity (nearest NGOs within 40km radius) sorted by distance
- **Optional:** Can integrate OpenAI API for future enhancements (smart recommendations, chat support)
- **All AI endpoints must still exist and return proper responses** - just with rule-based logic instead of ML

---

## ğŸ› ï¸ Tech Stack

### Frontend
- **React.js 18+** with functional components and hooks
- **React Router v6** for navigation
- **Axios** for API calls with interceptors
- **Framer Motion** for smooth animations
- **Tailwind CSS** for styling
- **Recharts** for data visualizations
- **React-Leaflet** for interactive maps
- **React Hot Toast** for notifications
- **Lucide React** for icons
- **React Hook Form + Zod** for form validation
- **Context API + useReducer** for global state
- **Socket.io-client** for real-time updates
- **date-fns** for date manipulation

### Backend
- **Node.js + Express.js**
- **MongoDB + Mongoose** ODM
- **JWT** for authentication
- **Bcrypt** for password hashing
- **Multer** for file uploads
- **Cloudinary** for image storage
- **Socket.io** for real-time communication
- **Nodemailer** for email notifications
- **Node-cron** for scheduled tasks
- **Express-validator** for input validation
- **Helmet** for security headers
- **CORS** for cross-origin requests
- **Morgan** for request logging

---

## ğŸ¨ Design System

### Color Palette
```css
/* Primary Colors */
--primary-green: #10B981      /* Emerald - growth, sustainability */
--primary-dark: #059669       /* Darker green for hover states */
--primary-light: #D1FAE5      /* Light green for backgrounds */

/* Accent Colors */
--accent-orange: #F59E0B      /* Amber - urgency, warmth */
--accent-red: #EF4444         /* Red - critical alerts */
--accent-blue: #3B82F6        /* Blue - in-transit status */
--accent-purple: #8B5CF6      /* Purple - volunteer actions */

/* Neutrals */
--neutral-50: #F9FAFB         /* Background */
--neutral-100: #F3F4F6        /* Card backgrounds */
--neutral-200: #E5E7EB        /* Borders */
--neutral-600: #4B5563        /* Secondary text */
--neutral-800: #1F2937        /* Primary text */
--neutral-900: #111827        /* Headings */

/* Status Colors */
--status-pending: #6B7280     /* Gray */
--status-matched: #3B82F6     /* Blue */
--status-accepted: #F59E0B    /* Orange */
--status-transit: #8B5CF6     /* Purple */
--status-delivered: #10B981   /* Green */
--status-cancelled: #EF4444   /* Red */
--status-high-urgency: #EF4444 with pulse animation
--status-medium-urgency: #F59E0B
--status-low-urgency: #10B981
```

### Typography
- **Font Family:** Inter (import from Google Fonts)
- **Headings:** Font-weight: 700 (Bold)
- **Body:** Font-weight: 400 (Regular)
- **Captions/Labels:** Font-weight: 500 (Medium)
- **Font Sizes:**
  - H1: 2.5rem (40px)
  - H2: 2rem (32px)
  - H3: 1.5rem (24px)
  - Body: 1rem (16px)
  - Small: 0.875rem (14px)
  - Tiny: 0.75rem (12px)

### Design Principles
- **Clean & Minimalist** aesthetic
- **Card-based layouts** with subtle shadows (0 4px 6px rgba(0,0,0,0.1))
- **Generous white space** - padding: 24px for cards, 48px for sections
- **Rounded corners** - 12px for cards, 8px for buttons, 6px for inputs
- **Smooth transitions** - 300ms ease-in-out for all interactions
- **Glass-morphism** for modals (backdrop-blur-sm, bg-white/90)
- **Micro-interactions** on all clickable elements
- **Hover effects** - slight lift (translateY(-2px)) + shadow increase
- **Active states** - scale(0.98) for buttons

---

## ğŸ“ Complete File Structure

```
foodrescue/
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â”œâ”€â”€ favicon.ico
â”‚   â”‚   â””â”€â”€ images/
â”‚   â”‚       â”œâ”€â”€ logo.svg
â”‚   â”‚       â”œâ”€â”€ hero-bg.svg
â”‚   â”‚       â””â”€â”€ empty-states/
â”‚   â”‚
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.jsx
â”‚   â”‚   â”œâ”€â”€ index.jsx
â”‚   â”‚   â”œâ”€â”€ index.css
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Navbar.jsx              // Top navigation with logo, search, notifications, profile
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Footer.jsx              // Site footer with links
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.jsx             // Dashboard sidebar navigation
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Button.jsx              // Reusable button component with variants
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Card.jsx                // Reusable card component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Modal.jsx               // Reusable modal with overlay
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.jsx      // Full-page loading spinner
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProtectedRoute.jsx      // Route wrapper for authentication
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ StatusBadge.jsx         // Status indicator with colors
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SearchBar.jsx           // Search input with debounce
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Pagination.jsx          // Pagination controls
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ConfirmDialog.jsx       // Confirmation modal
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoginForm.jsx           // Login form with validation
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RegisterForm.jsx        // Multi-step registration form
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RoleSelector.jsx        // Role selection cards
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ForgotPassword.jsx      // Password reset form
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ donor/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DonationUploadForm.jsx  // Complete donation upload form
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DonationCard.jsx        // Donation card with all details
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DonationList.jsx        // List/grid of donations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DonationTracker.jsx     // Timeline tracker component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ImpactDashboard.jsx     // Impact metrics and charts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ImpactChart.jsx         // Recharts visualization
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RatingModal.jsx         // Rate NGO modal
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ImageUploader.jsx       // Drag-drop image uploader
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ngo/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DonationBrowser.jsx     // Browse available donations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DonationDetailsModal.jsx // Detailed donation view
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AcceptRejectButtons.jsx // Action buttons
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ NGODashboard.jsx        // NGO dashboard layout
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ReceivedDonationsList.jsx // Accepted donations list
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MapView.jsx             // Map with donation markers
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ volunteer/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TaskList.jsx            // Available tasks list
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TaskCard.jsx            // Task card component
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DeliveryMap.jsx         // Map with route
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ StatusUpdateButtons.jsx // Status update controls
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ NavigationView.jsx      // Full-screen navigation
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AdminDashboard.jsx      // Admin overview
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserManagementTable.jsx // User CRUD table
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserVerificationQueue.jsx // Pending verifications
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AnalyticsCharts.jsx     // Platform analytics
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SystemMetrics.jsx       // System stats cards
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AuditLogViewer.jsx      // Audit logs table
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ shared/
â”‚   â”‚   â”‚       â”œâ”€â”€ NotificationBell.jsx    // Notification icon with badge
â”‚   â”‚   â”‚       â”œâ”€â”€ NotificationList.jsx    // Notification dropdown
â”‚   â”‚   â”‚       â”œâ”€â”€ ProfileDropdown.jsx     // User profile menu
â”‚   â”‚   â”‚       â”œâ”€â”€ StatsCard.jsx           // Metric card with animation
â”‚   â”‚   â”‚       â”œâ”€â”€ Timeline.jsx            // Status timeline
â”‚   â”‚   â”‚       â””â”€â”€ EmptyState.jsx          // Empty state illustration
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ Landing.jsx                 // Public landing page
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.jsx                   // Login page
â”‚   â”‚   â”‚   â”œâ”€â”€ Register.jsx                // Registration page
â”‚   â”‚   â”‚   â”œâ”€â”€ DonorDashboard.jsx          // Donor main dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ NGODashboard.jsx            // NGO main dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ VolunteerDashboard.jsx      // Volunteer main dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminDashboard.jsx          // Admin main dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ Profile.jsx                 // User profile page
â”‚   â”‚   â”‚   â”œâ”€â”€ Settings.jsx                // User settings
â”‚   â”‚   â”‚   â”œâ”€â”€ Help.jsx                    // Help & documentation
â”‚   â”‚   â”‚   â”œâ”€â”€ NotFound.jsx                // 404 page
â”‚   â”‚   â”‚   â””â”€â”€ Unauthorized.jsx            // 403 page
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthContext.jsx             // Authentication state
â”‚   â”‚   â”‚   â”œâ”€â”€ NotificationContext.jsx     // Notifications state
â”‚   â”‚   â”‚   â””â”€â”€ ThemeContext.jsx            // Theme state (optional)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ useAuth.js                  // Auth hook
â”‚   â”‚   â”‚   â”œâ”€â”€ useNotifications.js         // Notifications hook
â”‚   â”‚   â”‚   â”œâ”€â”€ useDonations.js             // Donations data hook
â”‚   â”‚   â”‚   â”œâ”€â”€ useGeolocation.js           // Geolocation hook
â”‚   â”‚   â”‚   â””â”€â”€ useDebounce.js              // Debounce hook
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ api.js                      // Axios instance + interceptors
â”‚   â”‚   â”‚   â”œâ”€â”€ authService.js              // Auth API calls
â”‚   â”‚   â”‚   â”œâ”€â”€ donationService.js          // Donation API calls
â”‚   â”‚   â”‚   â”œâ”€â”€ ngoService.js               // NGO API calls
â”‚   â”‚   â”‚   â”œâ”€â”€ volunteerService.js         // Volunteer API calls
â”‚   â”‚   â”‚   â”œâ”€â”€ adminService.js             // Admin API calls
â”‚   â”‚   â”‚   â”œâ”€â”€ uploadService.js            // Image upload service
â”‚   â”‚   â”‚   â””â”€â”€ socketService.js            // Socket.io setup
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ constants.js                // App constants
â”‚   â”‚   â”‚   â”œâ”€â”€ validation.js               // Validation schemas
â”‚   â”‚   â”‚   â”œâ”€â”€ formatters.js               // Date/number formatters
â”‚   â”‚   â”‚   â”œâ”€â”€ statusHelpers.js            // Status utility functions
â”‚   â”‚   â”‚   â””â”€â”€ errorHandler.js             // Error handling utilities
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ animations/
â”‚   â”‚       â”œâ”€â”€ pageTransitions.js          // Route transition variants
â”‚   â”‚       â”œâ”€â”€ cardAnimations.js           // Card animation variants
â”‚   â”‚       â””â”€â”€ variants.js                 // Framer Motion variants
â”‚   â”‚
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ .env.example
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ server.js                       // Entry point with server setup
â”‚   â”‚   â”œâ”€â”€ app.js                          // Express app configuration
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â”œâ”€â”€ database.js                 // MongoDB connection
â”‚   â”‚   â”‚   â”œâ”€â”€ cloudinary.js               // Cloudinary setup
â”‚   â”‚   â”‚   â”œâ”€â”€ email.js                    // Nodemailer config
â”‚   â”‚   â”‚   â””â”€â”€ constants.js                // Backend constants
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ User.js                     // User schema with role profiles
â”‚   â”‚   â”‚   â”œâ”€â”€ Donation.js                 // Donation schema
â”‚   â”‚   â”‚   â”œâ”€â”€ VolunteerTask.js            // Task schema
â”‚   â”‚   â”‚   â”œâ”€â”€ Rating.js                   // Rating schema
â”‚   â”‚   â”‚   â”œâ”€â”€ Notification.js             // Notification schema
â”‚   â”‚   â”‚   â””â”€â”€ AuditLog.js                 // Audit log schema
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”‚   â”œâ”€â”€ authController.js           // Auth logic (register, login, etc.)
â”‚   â”‚   â”‚   â”œâ”€â”€ donorController.js          // Donor operations
â”‚   â”‚   â”‚   â”œâ”€â”€ ngoController.js            // NGO operations
â”‚   â”‚   â”‚   â”œâ”€â”€ volunteerController.js      // Volunteer operations
â”‚   â”‚   â”‚   â”œâ”€â”€ adminController.js          // Admin operations
â”‚   â”‚   â”‚   â”œâ”€â”€ donationController.js       // Donation CRUD
â”‚   â”‚   â”‚   â”œâ”€â”€ notificationController.js   // Notification management
â”‚   â”‚   â”‚   â””â”€â”€ analyticsController.js      // Analytics calculations
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.js                    // Route aggregator
â”‚   â”‚   â”‚   â”œâ”€â”€ authRoutes.js               // /api/auth/*
â”‚   â”‚   â”‚   â”œâ”€â”€ donorRoutes.js              // /api/donor/*
â”‚   â”‚   â”‚   â”œâ”€â”€ ngoRoutes.js                // /api/ngo/*
â”‚   â”‚   â”‚   â”œâ”€â”€ volunteerRoutes.js          // /api/volunteer/*
â”‚   â”‚   â”‚   â”œâ”€â”€ adminRoutes.js              // /api/admin/*
â”‚   â”‚   â”‚   â”œâ”€â”€ donationRoutes.js           // /api/donations/*
â”‚   â”‚   â”‚   â”œâ”€â”€ uploadRoutes.js             // /api/upload/*
â”‚   â”‚   â”‚   â””â”€â”€ notificationRoutes.js       // /api/notifications/*
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”‚   â”œâ”€â”€ authMiddleware.js           // JWT verification
â”‚   â”‚   â”‚   â”œâ”€â”€ roleMiddleware.js           // Role-based access control
â”‚   â”‚   â”‚   â”œâ”€â”€ uploadMiddleware.js         // Multer configuration
â”‚   â”‚   â”‚   â”œâ”€â”€ validationMiddleware.js     // Express-validator
â”‚   â”‚   â”‚   â”œâ”€â”€ errorHandler.js             // Global error handler
â”‚   â”‚   â”‚   â”œâ”€â”€ rateLimiter.js              // Rate limiting
â”‚   â”‚   â”‚   â””â”€â”€ logger.js                   // Morgan logger
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ emailService.js             // Email sending
â”‚   â”‚   â”‚   â”œâ”€â”€ matchingService.js          // Donation-NGO matching logic
â”‚   â”‚   â”‚   â”œâ”€â”€ notificationService.js      // Notification creation
â”‚   â”‚   â”‚   â”œâ”€â”€ analyticsService.js         // Analytics calculations
â”‚   â”‚   â”‚   â””â”€â”€ imageService.js             // Cloudinary operations
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ helpers.js                  // Helper functions
â”‚   â”‚   â”‚   â”œâ”€â”€ validators.js               // Custom validators
â”‚   â”‚   â”‚   â”œâ”€â”€ dateUtils.js                // Date utilities
â”‚   â”‚   â”‚   â”œâ”€â”€ geoUtils.js                 // Geospatial calculations
â”‚   â”‚   â”‚   â””â”€â”€ constants.js                // Constants
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ sockets/
â”‚   â”‚   â”‚   â”œâ”€â”€ socketHandlers.js           // Socket.io event handlers
â”‚   â”‚   â”‚   â””â”€â”€ socketEvents.js             // Socket event definitions
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ jobs/
â”‚   â”‚       â”œâ”€â”€ matchingJob.js              // Cron: Auto-match donations
â”‚   â”‚       â”œâ”€â”€ expiryCheckJob.js           // Cron: Check expired donations
â”‚   â”‚       â””â”€â”€ cleanupJob.js               // Cron: Database cleanup
â”‚   â”‚
â”‚   â”œâ”€â”€ uploads/                             // Temporary upload folder
â”‚   â”œâ”€â”€ logs/                                // Log files
â”‚   â”‚   â”œâ”€â”€ error.log
â”‚   â”‚   â””â”€â”€ combined.log
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ .env.example
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

---

## ğŸ—„ï¸ Database Schemas (MongoDB)

### User Model
```javascript
{
  _id: ObjectId,
  fullName: String (required, min 3 chars),
  email: String (required, unique, lowercase, email format),
  password: String (required, hashed with bcrypt),
  role: Enum ['donor', 'ngo', 'volunteer', 'admin'] (required),
  phone: String (required, 10 digits),
  profileImage: String (Cloudinary URL),
  isVerified: Boolean (default: false),
  isActive: Boolean (default: true),
  verificationToken: String,
  resetPasswordToken: String,
  resetPasswordExpire: Date,
  
  // Donor-specific fields
  donorProfile: {
    businessName: String,
    businessType: Enum ['restaurant', 'store', 'catering', 'event', 'other'],
    address: {
      street: String,
      city: String,
      state: String,
      pincode: String,
      coordinates: {
        type: { type: String, default: 'Point' },
        coordinates: [Number] // [longitude, latitude]
      }
    },
    businessLicense: String
  },
  
  // NGO-specific fields
  ngoProfile: {
    organizationName: String (required for NGO),
    registrationNumber: String (required for NGO),
    address: {
      street: String,
      city: String,
      state: String,
      pincode: String,
      coordinates: {
        type: { type: String, default: 'Point' },
        coordinates: [Number]
      }
    },
    charitableDocument: String (Cloudinary URL),
    capacity: Number (daily meal capacity),
    acceptedCategories: [String],
    operatingHours: {
      open: String,
      close: String
    },
    rating: { type: Number, default: 0 },
    totalRatings: { type: Number, default: 0 }
  },
  
  // Volunteer-specific fields
  volunteerProfile: {
    vehicleType: Enum ['bike', 'car', 'van', 'cycle', 'walking'],
    availability: [String], // ['monday', 'tuesday', ...]
    currentLocation: {
      type: { type: String, default: 'Point' },
      coordinates: [Number]
    },
    rating: { type: Number, default: 0 },
    totalRatings: { type: Number, default: 0 },
    completedTasks: { type: Number, default: 0 },
    onTimeRate: { type: Number, default: 100 }
  },
  
  createdAt: Date (default: Date.now),
  updatedAt: Date,
  lastLogin: Date
}

// Indexes
Index: { email: 1 } (unique)
Index: { 'donorProfile.address.coordinates': '2dsphere' }
Index: { 'ngoProfile.address.coordinates': '2dsphere' }
Index: { 'volunteerProfile.currentLocation': '2dsphere' }
```

### Donation Model
```javascript
{
  _id: ObjectId,
  donationId: String (unique, format: 'DN-YYYYMMDD-XXXX'),
  donor: ObjectId (ref: 'User', required),
  
  foodDetails: {
    category: Enum ['cooked_meals', 'bakery', 'dairy', 'vegetables', 
                    'fruits', 'packaged_food', 'beverages', 'other'] (required),
    name: String (required, min 3 chars),
    quantity: Number (required, min: 1),
    unit: Enum ['kg', 'pieces', 'servings', 'liters'] (required),
    preparationTime: Date (required),
    expiryTime: Date (required),
    shelfLifeHours: Number (calculated: expiryTime - currentTime),
    dietaryInfo: [String], // ['vegetarian', 'vegan', 'contains_nuts', 'gluten_free']
    specialInstructions: String (max 500 chars),
    images: [String] // Cloudinary URLs, max 3
  },
  
  location: {
    address: {
      street: String,
      city: String,
      state: String,
      pincode: String
    },
    coordinates: {
      type: { type: String, default: 'Point' },
      coordinates: [Number] // [longitude, latitude]
    }
  },
  
  urgencyData: {
    urgencyScore: Number (0-1, calculated),
    urgencyCategory: Enum ['high', 'medium', 'low'],
    perishabilityScore: Number (0-1),
    priorityRank: Number
  },
  
  status: Enum ['pending', 'matched', 'accepted', 'in_transit', 
                'delivered', 'cancelled', 'expired'] (default: 'pending'),
  
  matchedNGO: ObjectId (ref: 'User'),
  matchedAt: Date,
  
  assignedVolunteer: ObjectId (ref: 'User'),
  assignedAt: Date,
  
  acceptedAt: Date,
  pickupTime: Date,
  deliveryTime: Date,
  
  timeline: [{
    status: String,
    timestamp: Date,
    updatedBy: ObjectId (ref: 'User'),
    note: String,
    location: {
      coordinates: [Number]
    }
  }],
  
  cancellationReason: String,
  cancelledBy: ObjectId (ref: 'User'),
  
  rejectionHistory: [{
    ngo: ObjectId (ref: 'User'),
    reason: String,
    timestamp: Date
  }],
  
  createdAt: Date (default: Date.now),
  updatedAt: Date
}

// Indexes
Index: { donationId: 1 } (unique)
Index: { donor: 1, status: 1 }
Index: { status: 1, createdAt: -1 }
Index: { 'location.coordinates': '2dsphere' }
Index: { 'urgencyData.urgencyCategory': 1 }
Index: { matchedNGO: 1 }
Index: { assignedVolunteer: 1 }
```

### VolunteerTask Model
```javascript
{
  _id: ObjectId,
  taskId: String (unique, format: 'VT-YYYYMMDD-XXXX'),
  donation: ObjectId (ref: 'Donation', required),
  volunteer: ObjectId (ref: 'User', required),
  donor: ObjectId (ref: 'User', required),
  ngo: ObjectId (ref: 'User', required),
  
  pickupLocation: {
    name: String, // Restaurant/Store name
    address: Object,
    coordinates: {
      type: { type: String, default: 'Point' },
      coordinates: [Number]
    },
    contactPhone: String
  },
  
  deliveryLocation: {
    name: String, // NGO name
    address: Object,
    coordinates: {
      type: { type: String, default: 'Point' },
      coordinates: [Number]
    },
    contactPhone: String
  },
  
  distance: Number (km, calculated),
  estimatedTime: Number (minutes, calculated),
  actualTime: Number (minutes, calculated after delivery),
  
  status: Enum ['assigned', 'accepted', 'picked_up', 'in_transit', 
                'delivered', 'cancelled'] (default: 'assigned'),
  
  pickupTime: Date,
  deliveryTime: Date,
  
  photos: {
    pickupPhoto: String (Cloudinary URL),
    deliveryPhoto: String (Cloudinary URL)
  },
  
  signature: String (base64 or Cloudinary URL),
  
  route: {
    type: { type: String, default: 'LineString' },
    coordinates: [[Number]] // Array of [lng, lat] pairs
  },
  
  volunteerLocations: [{
    coordinates: [Number],
    timestamp: Date,
    accuracy: Number
  }],
  
  timeline: [{
    status: String,
    timestamp: Date,
    location: {
      coordinates: [Number]
    },
    note: String
  }],
  
  cancellationReason: String,
  
  createdAt: Date (default: Date.now),
  updatedAt: Date
}

// Indexes
Index: { taskId: 1 } (unique)
Index: { volunteer: 1, status: 1 }
Index: { donation: 1 }
Index: { status: 1, createdAt: -1 }
```

### Rating Model
```javascript
{
  _id: ObjectId,
  donation: ObjectId (ref: 'Donation', required),
  ratedBy: ObjectId (ref: 'User', required),
  ratedTo: ObjectId (ref: 'User', required),
  ratedType: Enum ['ngo', 'volunteer'] (required),
  
  rating: Number (required, min: 1, max: 5),
  comment: String (max 500 chars),
  
  categories: {
    punctuality: Number (1-5),
    communication: Number (1-5),
    professionalism: Number (1-5),
    foodHandling: Number (1-5) // For NGOs
  },
  
  createdAt: Date (default: Date.now)
}

// Indexes
Index: { donation: 1, ratedBy: 1 } (unique compound)
Index: { ratedTo: 1, createdAt: -1 }
Index: { ratedType: 1, rating: -1 }
```

### Notification Model
```javascript
{
  _id: ObjectId,
  recipient: ObjectId (ref: 'User', required),
  type: Enum ['donation_matched', 'donation_accepted', 'volunteer_assigned',
              'status_updated', 'delivery_completed', 'new_rating',
              'account_verified', 'system_alert'] (required),
  
  title: String (required),
  message: String (required),
  
  relatedDonation: ObjectId (ref: 'Donation'),
  relatedUser: ObjectId (ref: 'User'),
  relatedTask: ObjectId (ref: 'VolunteerTask'),
  
  data: Object, // Additional data specific to notification type
  
  isRead: Boolean (default: false),
  readAt: Date,
  
  priority: Enum ['low', 'medium', 'high'] (default: 'medium'),
  
  createdAt: Date (default: Date.now)
}

// Indexes
Index: { recipient: 1, isRead: 1, createdAt: -1 }
Index: { type: 1 }
Index: { createdAt: 1 } (with TTL: 30 days)
```

### AuditLog Model
```javascript
{
  _id: ObjectId,
  user: ObjectId (ref: 'User'),
  action: String (required), // 'user_login', 'donation_created', etc.
  entity: String, // 'User', 'Donation', 'VolunteerTask'
  entityId: ObjectId,
  
  details: Object, // Flexible object for action-specific data
  
  ipAddress: String,
  userAgent: String,
  
  severity: Enum ['info', 'warning', 'error'] (default: 'info'),
  
  createdAt: Date (default: Date.now)
}

// Indexes
Index: { user: 1, createdAt: -1 }
Index: { action: 1 }
Index: { severity: 1, createdAt: -1 }
Index: { createdAt: 1 } (with TTL: 1 year)
```

---

## ğŸ”Œ Complete API Endpoints

### Authentication Routes (`/api/auth`)

```javascript
// Register new user
POST /api/auth/register
Body: {
  fullName, email, password, role, phone,
  // Role-specific fields
  donorProfile: { businessName, businessType, address, ... },
  n